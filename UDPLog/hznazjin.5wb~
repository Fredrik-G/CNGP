using System;
using System.Reflection;
using System.Windows.Forms;
using LogAnalysis;

namespace UDPLog
{
    public partial class Form1 : Form
    {
        private LogAnalysis.LogAnalysis _logAnalysis = new LogAnalysis.LogAnalysis();
       // private readonly Logger _generalLogger = new Logger(MethodBase.GetCurrentMethod());
      //  private readonly Logger _gameplayLogger = new Logger("Gameplay");

        public Form1()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            dataGridView1.DataSource = _logAnalysis.GetDaysInfo();            
        }

        private void button2_Click(object sender, EventArgs e)
        {
            _logAnalysis.ReadLogFile(true, "gameplay.log");
          //  _generalLogger.Info("Read log file");
      //      _gameplayLogger.Info("asd");
        }

        private void button3_Click(object sender, EventArgs e)
        {
            _logAnalysis.SortMostFrequentDayAndHour();
        }

        private void button4_Click(object sender, EventArgs e)
        {
            dataGridView1.DataSource = _logAnalysis.GetHoursInfos();
        }
    }
}
